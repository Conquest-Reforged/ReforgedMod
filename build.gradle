buildscript {
    repositories {
        maven { url "https://files.minecraftforge.net/maven" }
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath group: "net.minecraftforge.gradle", name: "ForgeGradle", version: "3.+", changing: true
    }
}

allprojects {
    apply from: file("$rootDir/build-module.gradle")
}

apply from: file("build-main.gradle")

classes {
    dependsOn(collectProjectClasses)
}


processResources {
    dependsOn(collectProjectResources)
    filesMatching("**/mods.toml") {
        expand(
                "name": project.name,
                "version": mod_version,
                "mc_version": mc_version
        )
    }
}

testClasses {
//    dependsOn.clear()
}